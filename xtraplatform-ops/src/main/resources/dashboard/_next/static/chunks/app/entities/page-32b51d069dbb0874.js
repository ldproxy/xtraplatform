(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[146],{5531:function(e,t,s){Promise.resolve().then(s.bind(s,3813))},3813:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return f}});var l=s(3827),n=s(2548),i=s(5744),a=s(7907),c=s(4090),r=s(4691),o=s(3702),d=s(8403),x=s(2177),u=s(5459),h=s(2830),p=s(7134),m=s(2172);function f(){let e=(0,h.useReloadInterval)(),[t,s]=(0,c.useState)("overview"),f=(0,a.useRouter)(),g=(0,a.usePathname)(),[j,v]=(0,c.useState)(""),{entities:N,nodesDifferent:y,loadData:b}=(0,u.w)(),w=N.map(d.RL).filter((e,t,s)=>s.indexOf(e)===t),I=N.reduce((e,t)=>{let s=(0,d.RL)(t);return e[s]||(e[s]=0),e[s]++,e},{}),C=(0,d.zM)(N,w);(0,c.useEffect)(()=>{if(b({loadEntities:!0,checkDifferences:!0}),e>0){let t=setInterval(()=>{b({loadEntities:!0,checkDifferences:!0})},1e3*e);return()=>clearInterval(t)}},[e]),(0,c.useEffect)(()=>{g&&s(window.location.hash.slice(1)||"overview"),m.hB&&(0,p.Ax)(v)},[g]);let k=()=>y.entities?"Warning: Differences detected in entities across different replicas. This issue is likely temporary.":null;return r.Dh&&(console.log("entityTypeStatusCounts:",C),console.log("entities",N),console.log("Counts:",I.API),console.log("entityTypes",w)),(0,l.jsxs)("div",{className:"flex-1 space-y-4 p-8 pt-0",children:[(0,l.jsx)("div",{className:"flex items-center justify-between space-y-2",children:(0,l.jsx)("h2",{className:"text-2xl font-semibold tracking-tight",children:"Entities"})}),(0,l.jsxs)(i.mQ,{value:t,onValueChange:e=>{s(e),""!==j?f.push("".concat(g,"?did=").concat(j,"#").concat(e)):f.push("".concat(g,"#").concat(e))},className:"h-full space-y-6",children:[(0,l.jsx)("div",{className:"space-between flex items-center",children:(0,l.jsxs)(i.dr,{children:[(0,l.jsx)(i.SP,{value:"overview",children:(0,l.jsx)("span",{children:"Overview"})}),w.map(e=>(0,l.jsx)(i.SP,{value:e,children:(0,l.jsx)("span",{children:(0,d.Xd)(e)})},e))]})}),k()&&(0,l.jsxs)("div",{className:"flex items-center space-x-2 p-4 bg-yellow-100 border border-yellow-400 text-yellow-700 rounded",children:[(0,l.jsx)(x.LPM,{className:"h-5 w-5"}),(0,l.jsx)("span",{children:k()})]}),(0,l.jsx)(i.nU,{value:"overview",children:(0,l.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:w.map(e=>(0,l.jsx)(n.Z,{main:(0,d.Xd)(e),footer:(0,d.Ph)(C[e]),total:I[e],onClick:()=>s(e),route:"".concat(g).concat(""!==j?"?did=".concat(j):"","#").concat(e),Icon:(0,o.q)("Id")},e))})}),w.map(e=>(0,l.jsx)(i.nU,{value:e,children:(0,l.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:N.filter(t=>(0,d.RL)(t)===e).map(e=>(0,l.jsx)(n.Z,{header:e.status,main:e.id,footer:e.subType.toUpperCase(),route:"/entities/details".concat(j?"?did=".concat(j,"&"):"?","id=").concat(e.uid)},e.uid))})},e))]})]})}},2548:function(e,t,s){"use strict";s.d(t,{Z:function(){return o}});var l=s(3827),n=s(8792),i=s(9084),a=s(2177),c=s(5479);let r=e=>{let{footer:t}=e,s=t.includes("/")?t.split("/")[1]:t.includes("OGC_API")?t:null;return(0,l.jsx)(l.Fragment,{children:t?t.split(" ").map((e,t,n)=>"available"!==e||isNaN(Number(n[t-1]))?"limited"!==e||isNaN(Number(n[t-1]))?"unavailable"!==e||isNaN(Number(n[t-1]))?null!==s?(0,l.jsx)(c.C,{variant:"secondary",children:s},s):isNaN(Number(e))||"available"!==n[t+1]&&"unavailable"!==n[t+1]&&"limited"!==n[t+1]?e+" ":null:[(0,l.jsxs)("span",{className:"text-destructive mr-2",style:{display:"flex",alignItems:"center",marginRight:"15px",fontSize:"20px"},title:"".concat(n[t-1]," ").concat(e),children:[(0,l.jsx)(a.xrR,{className:"text-destructive",width:"20px",height:"20px",style:{marginRight:"5px"}},"CheckCircledIcon"),n[t-1]]},t)]:[(0,l.jsxs)("span",{className:"text-warning mr-2",style:{display:"flex",alignItems:"center",marginRight:"15px",fontSize:"20px"},title:"".concat(n[t-1]," ").concat(e),children:[(0,l.jsx)(a.LPM,{className:"text-warning",width:"20px",height:"20px",style:{marginRight:"5px"}},"CheckCircledIcon"),n[t-1]]},t)]:[(0,l.jsxs)("span",{className:"text-success mr-2",style:{display:"flex",alignItems:"center",marginRight:"15px",fontSize:"20px"},title:"".concat(n[t-1]," ").concat(e),children:[(0,l.jsx)(a.NhS,{className:"text-success",width:"20px",height:"20px",style:{marginRight:"5px"}},"CheckCircledIcon"),n[t-1]]},t)]):null})};function o(e){let{header:t,main:s,footer:a,route:c,total:o,Icon:d,...x}=e,u="AVAILABLE"===t||"ACTIVE"===t||"true"===t?"text-success":"LIMITED"===t?"text-warning":"UNAVAILABLE"===t||"false"===t?"text-destructive":"text-blue-700";return(0,l.jsx)(n.default,{href:c||"#",children:(0,l.jsxs)(i.Zb,{className:"shadow-lg hover:bg-gray-100 transition-colors duration-200",style:{height:"140px"},...x,children:[(0,l.jsx)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-0",children:(0,l.jsx)(i.ll,{className:"text-sm font-semibold ".concat(u).concat(t?"":"text-2xl font-bold mb-1"),children:t?(0,l.jsx)("span",{className:"text-1xl font-bold mb-1 inline-block",children:t}):(0,l.jsx)("span",{className:"text-2xl font-bold mb-1 mt-[-20px] inline-block",children:o})})}),(0,l.jsxs)(i.aY,{children:[(0,l.jsxs)("div",{className:"text-2xl font-bold",style:{display:"flex",flexDirection:"row",marginBottom:"5px",alignItems:"center",justifyContent:"flex-start",gap:"10px"},children:[d?(0,l.jsx)(d,{className:"h-6 w-6 text-muted-foreground"}):null,(0,l.jsx)("span",{style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},title:"string"==typeof s?s:"",children:s})]}),(0,l.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:(0,l.jsx)("p",{className:"text-xs text-muted-foreground",style:{display:"flex",flexDirection:"row",marginTop:"5px"},children:a?(0,l.jsx)(r,{footer:a}):null})})]})]})})}}},function(e){e.O(0,[310,606,547,647,800,672,971,69,744],function(){return e(e.s=5531)}),_N_E=e.O()}]);