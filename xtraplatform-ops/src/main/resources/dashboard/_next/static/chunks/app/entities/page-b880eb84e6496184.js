(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[146],{5531:function(e,t,s){Promise.resolve().then(s.bind(s,3813))},3813:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return g}});var n=s(3827),i=s(2548),r=s(5744),a=s(7907),l=s(4090),c=s(4691),o=s(3702),d=s(8403),u=s(2177),x=s(7949),f=s(2830),m=s(7134),p=s(2172);function g(){let e=(0,f.useReloadInterval)(),[t,s]=(0,l.useState)("overview"),g=(0,a.useRouter)(),h=(0,a.usePathname)(),[v,b]=(0,l.useState)(""),{entities:y,nodesDifferent:j,loadData:N}=(0,x.w)(),w=y.map(d.RL).filter((e,t,s)=>s.indexOf(e)===t),C=y.reduce((e,t)=>{let s=(0,d.RL)(t);return e[s]||(e[s]=0),e[s]++,e},{}),I=(0,d.zM)(y,w);(0,l.useEffect)(()=>{if(N({loadEntities:!0,checkDifferences:!0}),e>0){let t=setInterval(()=>{N({loadEntities:!0,checkDifferences:!0})},1e3*e);return()=>clearInterval(t)}},[e]),(0,l.useEffect)(()=>{h&&s(window.location.hash.slice(1)||"overview"),p.hB&&(0,m.Ax)(b)},[h]);let k=()=>j.entities?"Warning: Differences detected in entities across different replicas. This issue is likely temporary.":null;return c.Dh&&(console.log("entityTypeStatusCounts:",I),console.log("entities",y),console.log("Counts:",C.API),console.log("entityTypes",w)),(0,n.jsxs)("div",{className:"flex-1 space-y-4 p-8 pt-0",children:[(0,n.jsx)("div",{className:"flex items-center justify-between space-y-2",children:(0,n.jsx)("h2",{className:"text-2xl font-semibold tracking-tight",children:"Entities"})}),(0,n.jsxs)(r.mQ,{value:t,onValueChange:e=>{s(e),""!==v?g.push("".concat(h,"?did=").concat(v,"#").concat(e)):g.push("".concat(h,"#").concat(e))},className:"h-full space-y-6",children:[(0,n.jsx)("div",{className:"space-between flex items-center",children:(0,n.jsxs)(r.dr,{children:[(0,n.jsx)(r.SP,{value:"overview",children:(0,n.jsx)("span",{children:"Overview"})}),w.map(e=>(0,n.jsx)(r.SP,{value:e,children:(0,n.jsx)("span",{children:(0,d.Xd)(e)})},e))]})}),k()&&(0,n.jsxs)("div",{className:"flex items-center space-x-2 p-4 bg-yellow-100 border border-yellow-400 text-yellow-700 rounded",children:[(0,n.jsx)(u.LPM,{className:"h-5 w-5"}),(0,n.jsx)("span",{children:k()})]}),(0,n.jsx)(r.nU,{value:"overview",children:(0,n.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:w.map(e=>(0,n.jsx)(i.Z,{main:(0,d.Xd)(e),footer:(0,d.Ph)(I[e]),total:C[e],onClick:()=>s(e),route:"".concat(h).concat(""!==v?"?did=".concat(v):"","#").concat(e),Icon:(0,o.q)("Id")},e))})}),w.map(e=>(0,n.jsx)(r.nU,{value:e,children:(0,n.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:y.filter(t=>(0,d.RL)(t)===e).map(e=>(0,n.jsx)(i.Z,{header:e.status,main:e.id,footer:e.subType.toUpperCase(),route:"/entities/details".concat(v?"?did=".concat(v,"&"):"?","id=").concat(e.uid)},e.uid))})},e))]})]})}},2548:function(e,t,s){"use strict";s.d(t,{Z:function(){return o}});var n=s(3827),i=s(8792),r=s(9084),a=s(2177),l=s(5479);let c=e=>{let{footer:t}=e,s=t.includes("/")?t.split("/")[1]:t.includes("OGC_API")?t:null;return(0,n.jsx)(n.Fragment,{children:t?t.split(" ").map((e,t,i)=>"available"!==e||isNaN(Number(i[t-1]))?"limited"!==e||isNaN(Number(i[t-1]))?"unavailable"!==e||isNaN(Number(i[t-1]))?null!==s?(0,n.jsx)(l.C,{variant:"secondary",children:s},s):isNaN(Number(e))||"available"!==i[t+1]&&"unavailable"!==i[t+1]&&"limited"!==i[t+1]?e+" ":null:[(0,n.jsxs)("span",{className:"text-destructive mr-2",style:{display:"flex",alignItems:"center",marginRight:"15px",fontSize:"20px"},title:"".concat(i[t-1]," ").concat(e),children:[(0,n.jsx)(a.xrR,{className:"text-destructive",width:"20px",height:"20px",style:{marginRight:"5px"}},"CheckCircledIcon"),i[t-1]]},t)]:[(0,n.jsxs)("span",{className:"text-warning mr-2",style:{display:"flex",alignItems:"center",marginRight:"15px",fontSize:"20px"},title:"".concat(i[t-1]," ").concat(e),children:[(0,n.jsx)(a.LPM,{className:"text-warning",width:"20px",height:"20px",style:{marginRight:"5px"}},"CheckCircledIcon"),i[t-1]]},t)]:[(0,n.jsxs)("span",{className:"text-success mr-2",style:{display:"flex",alignItems:"center",marginRight:"15px",fontSize:"20px"},title:"".concat(i[t-1]," ").concat(e),children:[(0,n.jsx)(a.NhS,{className:"text-success",width:"20px",height:"20px",style:{marginRight:"5px"}},"CheckCircledIcon"),i[t-1]]},t)]):null})};function o(e){let{header:t,main:s,footer:a,route:l,total:o,Icon:d,...u}=e,x="AVAILABLE"===t||"ACTIVE"===t||"true"===t?"text-success":"LIMITED"===t?"text-warning":"UNAVAILABLE"===t||"false"===t?"text-destructive":"text-blue-700";return(0,n.jsx)(i.default,{href:l||"#",children:(0,n.jsxs)(r.Zb,{className:"shadow-lg hover:bg-gray-100 transition-colors duration-200",style:{height:"140px"},...u,children:[(0,n.jsx)(r.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-0",children:(0,n.jsx)(r.ll,{className:"text-sm font-semibold ".concat(x).concat(t?"":"text-2xl font-bold mb-1"),children:t?(0,n.jsx)("span",{className:"text-1xl font-bold mb-1 inline-block",children:t}):(0,n.jsx)("span",{className:"text-2xl font-bold mb-1 mt-[-20px] inline-block",children:o})})}),(0,n.jsxs)(r.aY,{children:[(0,n.jsxs)("div",{className:"text-2xl font-bold",style:{display:"flex",flexDirection:"row",marginBottom:"5px",alignItems:"center",justifyContent:"flex-start",gap:"10px"},children:[d?(0,n.jsx)(d,{className:"h-6 w-6 text-muted-foreground"}):null,(0,n.jsx)("span",{style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},title:"string"==typeof s?s:"",children:s})]}),(0,n.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:(0,n.jsx)("div",{className:"text-xs text-muted-foreground",style:{display:"flex",flexDirection:"row",marginTop:"5px"},children:a?(0,n.jsx)(c,{footer:a}):null})})]})]})})}},5479:function(e,t,s){"use strict";s.d(t,{C:function(){return l}});var n=s(3827);s(4090);var i=s(7742),r=s(2169);let a=(0,i.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",success:"border-transparent bg-success text-success-foreground hover:bg-success/80",warning:"border-transparent bg-warning text-warning-foreground hover:bg-warning/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:s,...i}=e;return(0,n.jsx)("div",{className:(0,r.cn)(a({variant:s}),t),...i})}},5744:function(e,t,s){"use strict";s.d(t,{SP:function(){return o},dr:function(){return c},mQ:function(){return l},nU:function(){return d}});var n=s(3827),i=s(4090),r=s(5647),a=s(2169);let l=r.fC,c=i.forwardRef((e,t)=>{let{className:s,...i}=e;return(0,n.jsx)(r.aV,{ref:t,className:(0,a.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...i})});c.displayName=r.aV.displayName;let o=i.forwardRef((e,t)=>{let{className:s,...i}=e;return(0,n.jsx)(r.xz,{ref:t,className:(0,a.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...i})});o.displayName=r.xz.displayName;let d=i.forwardRef((e,t)=>{let{className:s,...i}=e;return(0,n.jsx)(r.VY,{ref:t,className:(0,a.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...i})});d.displayName=r.VY.displayName}},function(e){e.O(0,[310,606,547,647,800,20,971,69,744],function(){return e(e.s=5531)}),_N_E=e.O()}]);