"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[67],{7067:function(e,t,r){r.d(t,{Z:function(){return w}});var a=r(3827),n=r(4090),s=r(9084),o=r(8792),l=r(3702),i=r(1800),c=r(9881),d=r(1270),f=r(2670),u=r(248),m=r(807),x=r(8196),h=r(1014),p=r(8886);let g=u.z.object({name:u.z.string().min(1,{message:"Name muss min. 1 Zeichen lang sein."}).max(30,{message:"Name darf max. 30 Zeichen lang sein."}).refine(e=>!/[äöüÄÖÜ]/.test(e),{message:"Name darf keine Umlaute enthalten."}),url:u.z.string().min(1,{message:"Url muss min. 1 Zeichen lang sein."}).max(50,{message:"Url darf max. 50 Zeichen lang sein."}).refine(e=>!/[äöüÄÖÜ]/.test(e),{message:"Url darf keine Umlaute enthalten."})}),j=e=>{let{handleEdit:t,name:r,cfgUrl:s,onSubmit:o,setPopUp:l}=e,[i,u]=(0,n.useState)(null),j=(0,f.cI)({resolver:(0,d.F)(g),mode:"onChange",defaultValues:{name:r,url:s}}),y=async e=>{if(t)try{let r=await t(e);r&&(u(r),j.reset())}catch(e){console.error("Fehler beim Absenden des Formulars",e)}};return((0,n.useEffect)(()=>{j.reset({name:r,url:s})},[r,s,j]),o&&l)?(0,a.jsxs)(c.cZ,{children:[(0,a.jsx)(c.fK,{children:(0,a.jsx)(c.$N,{style:{margin:"20px"},children:"Wollen Sie die Konfiguration wirklich l\xf6schen?"})}),(0,a.jsx)(c.cN,{className:"flex justify-center",children:(0,a.jsxs)("div",{className:"flex justify-center w-full",children:[(0,a.jsx)(p.z,{onClick:o,style:{fontWeight:"bold",marginRight:"10px",width:"100px"},children:"Ja"}),(0,a.jsx)(p.z,{onClick:()=>{l(!1)},variant:"secondary",style:{fontWeight:"bold",width:"100px"},children:"Nein"})]})})]}):(0,a.jsxs)(c.cZ,{children:[(0,a.jsxs)(c.fK,{children:[(0,a.jsx)("div",{style:{marginBottom:"15px"},children:(0,a.jsx)(c.$N,{children:"Konfiguration umbennen"})}),(0,a.jsx)(h.Z,{})]}),(0,a.jsx)(m.l0,{...j,children:(0,a.jsxs)("form",{onSubmit:j.handleSubmit(y),className:"space-y-8",style:{marginBottom:"25px"},children:[(0,a.jsx)(m.Wi,{control:j.control,name:"url",render:e=>{let{field:t}=e;return(0,a.jsxs)(m.xJ,{children:[(0,a.jsx)(m.lX,{children:"URL"}),(0,a.jsx)(m.NI,{children:(0,a.jsx)(x.I,{...t})}),(0,a.jsx)(m.zG,{})]})}}),(0,a.jsx)(m.Wi,{control:j.control,name:"name",render:e=>{let{field:t}=e;return(0,a.jsxs)(m.xJ,{children:[(0,a.jsx)(m.lX,{children:"Name"}),(0,a.jsx)(m.NI,{children:(0,a.jsx)(x.I,{...t})}),(0,a.jsx)(m.zG,{})]})}}),(0,a.jsx)(p.z,{style:{fontWeight:"bold"},type:"submit",disabled:!j.formState.isValid,children:"Change"})]})}),i&&!i.success?(0,a.jsx)("div",{style:{color:"red"},children:"Ein Fehler ist aufgetreten."}):i&&i.success?(0,a.jsx)("div",{style:{color:"green"},children:"Konfiguration wurde erfolgreich umbenannt."}):""]})},y=(0,r(7461).Z)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);function w(e){let{cfgUrl:t,title:r,name:d,setConfigurations:f}=e,[u,m]=(0,n.useState)(!1),[x,h]=(0,n.useState)(!1),p=window.location.href,g=new URL(p),w=new URLSearchParams(g.search);w.has("id")?w.append("cfg",d):w.append("id",d);let N=new URLSearchParams;w.forEach((e,t)=>{N.has(t)||N.append(t,e)});let b=g.pathname;b.includes("/details")?b+="/cfg":b+="/details";let v="".concat(g.origin).concat(b,"?").concat(N.toString()),k=(0,l.q)("Trash")||(()=>(0,a.jsx)("span",{})),C=(0,l.q)("Pencil1")||(()=>(0,a.jsx)("span",{}));(0,l.q)("ExternalLink")||(()=>(0,a.jsx)("span",{}));let E=async()=>{try{await (0,i.vj)(d);let e=await (0,i.W2)();return f(e),m(!1),{success:!0}}catch(e){return console.error("Fehler beim L\xf6schen der Konfiguration",e),{success:!1}}},R=async e=>{if(t)try{await (0,i.qP)(d,e.name,t,e.url);let r=await (0,i.W2)();return f(r),m(!1),{success:!0}}catch(e){console.error("Fehler beim Editieren der Konfiguration",e)}return{success:!1}};return(0,a.jsxs)("div",{className:"relative shadow-lg",children:[(0,a.jsx)(o.default,{href:v,children:(0,a.jsxs)(s.Zb,{children:[(0,a.jsx)(s.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:(0,a.jsx)(s.ll,{className:"text-sm font-semibold text-blue-700 flex items-center",children:t?(0,a.jsxs)(o.default,{href:t,target:"_blank",className:"flex items-center relative group",onClick:e=>e.stopPropagation(),children:[t,(0,a.jsx)(y,{className:"ml-2 h-4 w-4 text-blue-500 cursor-pointer"}),(0,a.jsx)("span",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 w-max bg-gray-800 text-white text-xs rounded py-1 px-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:t})]}):r})}),(0,a.jsx)(s.aY,{className:"flex justify-center items-center",children:(0,a.jsx)("div",{className:"text-2xl font-bold break-normal",style:{marginBottom:"3px",width:"100%"},children:d})})]})}),t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(c.Vq,{open:x,onOpenChange:e=>h(e),children:[(0,a.jsx)(c.hg,{asChild:!0,children:(0,a.jsx)(C,{className:"absolute right-40 top-1/2 transform -translate-y-1/2 h-8 w-8 text-blue-500 cursor-pointer"})}),(0,a.jsx)(j,{handleEdit:R,name:d,cfgUrl:t})]}),(0,a.jsxs)(c.Vq,{open:u,onOpenChange:e=>m(e),children:[(0,a.jsx)(c.hg,{asChild:!0,children:(0,a.jsx)(k,{className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-8 w-8 text-red-500 cursor-pointer mr-20"})}),(0,a.jsx)(j,{onSubmit:E,setPopUp:m})]})]})]})}},9084:function(e,t,r){r.d(t,{Ol:function(){return l},Zb:function(){return o},aY:function(){return c},ll:function(){return i}});var a=r(3827),n=r(4090),s=r(2169);let o=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...n})});o.displayName="Card";let l=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",r),...n})});l.displayName="CardHeader";let i=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("h3",{ref:t,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",r),...n})});i.displayName="CardTitle",n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("p",{ref:t,className:(0,s.cn)("text-sm text-muted-foreground",r),...n})}).displayName="CardDescription";let c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",r),...n})});c.displayName="CardContent",n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",r),...n})}).displayName="CardFooter"},9881:function(e,t,r){r.d(t,{$N:function(){return h},Vq:function(){return i},cN:function(){return x},cZ:function(){return u},fK:function(){return m},hg:function(){return c}});var a=r(3827),n=r(4090),s=r(8768),o=r(2235),l=r(2169);let i=s.fC,c=s.xz,d=s.h_;s.x8;let f=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(s.aV,{ref:t,className:(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...n})});f.displayName=s.aV.displayName;let u=n.forwardRef((e,t)=>{let{className:r,children:n,...i}=e;return(0,a.jsxs)(d,{children:[(0,a.jsx)(f,{}),(0,a.jsxs)(s.VY,{ref:t,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r),...i,children:[n,(0,a.jsxs)(s.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(o.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});u.displayName=s.VY.displayName;let m=e=>{let{className:t,...r}=e;return(0,a.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...r})};m.displayName="DialogHeader";let x=e=>{let{className:t,...r}=e;return(0,a.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...r})};x.displayName="DialogFooter";let h=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(s.Dx,{ref:t,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",r),...n})});h.displayName=s.Dx.displayName,n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(s.dk,{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",r),...n})}).displayName=s.dk.displayName},807:function(e,t,r){r.d(t,{l0:function(){return f},NI:function(){return j},Wi:function(){return m},xJ:function(){return p},lX:function(){return g},zG:function(){return y}});var a=r(3827),n=r(4090),s=r(15),o=r(2670),l=r(2169),i=r(6028);let c=(0,r(7742).j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(i.f,{ref:t,className:(0,l.cn)(c(),r),...n})});d.displayName=i.f.displayName;let f=o.RV,u=n.createContext({}),m=e=>{let{...t}=e;return(0,a.jsx)(u.Provider,{value:{name:t.name},children:(0,a.jsx)(o.Qr,{...t})})},x=()=>{let e=n.useContext(u),t=n.useContext(h),{getFieldState:r,formState:a}=(0,o.Gc)(),s=r(e.name,a);if(!e)throw Error("useFormField should be used within <FormField>");let{id:l}=t;return{id:l,name:e.name,formItemId:"".concat(l,"-form-item"),formDescriptionId:"".concat(l,"-form-item-description"),formMessageId:"".concat(l,"-form-item-message"),...s}},h=n.createContext({}),p=n.forwardRef((e,t)=>{let{className:r,...s}=e,o=n.useId();return(0,a.jsx)(h.Provider,{value:{id:o},children:(0,a.jsx)("div",{ref:t,className:(0,l.cn)("space-y-2",r),...s})})});p.displayName="FormItem";let g=n.forwardRef((e,t)=>{let{className:r,...n}=e,{error:s,formItemId:o}=x();return(0,a.jsx)(d,{ref:t,className:(0,l.cn)(s&&"text-destructive",r),htmlFor:o,...n})});g.displayName="FormLabel";let j=n.forwardRef((e,t)=>{let{...r}=e,{error:n,formItemId:o,formDescriptionId:l,formMessageId:i}=x();return(0,a.jsx)(s.g7,{ref:t,id:o,"aria-describedby":n?"".concat(l," ").concat(i):"".concat(l),"aria-invalid":!!n,...r})});j.displayName="FormControl",n.forwardRef((e,t)=>{let{className:r,...n}=e,{formDescriptionId:s}=x();return(0,a.jsx)("p",{ref:t,id:s,className:(0,l.cn)("text-sm text-muted-foreground",r),...n})}).displayName="FormDescription";let y=n.forwardRef((e,t)=>{let{className:r,children:n,...s}=e,{error:o,formMessageId:i}=x(),c=o?String(null==o?void 0:o.message):n;return c?(0,a.jsx)("p",{ref:t,id:i,className:(0,l.cn)("text-sm font-medium text-destructive",r),...s,children:c}):null});y.displayName="FormMessage"},8196:function(e,t,r){r.d(t,{I:function(){return o}});var a=r(3827),n=r(4090),s=r(2169);let o=n.forwardRef((e,t)=>{let{className:r,type:n,...o}=e;return(0,a.jsx)("input",{type:n,className:(0,s.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...o})});o.displayName="Input"},1800:function(e,t,r){r.d(t,{vj:function(){return i},ZH:function(){return c},W2:function(){return f},hs:function(){return d},mv:function(){return o},qP:function(){return l}});var a=r(2172),n=r(2215);let s="/api";n.env.DEPLOYMENTS||a.XK;let o=async e=>{try{let t=await fetch("/api/cfg",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return await t.json()}catch(e){throw console.error("Error:",e),e}},l=async(e,t,r,a)=>{try{let n=await fetch("/api/cfg",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({oldName:e,newName:t,oldUrl:r,newUrl:a})});return await n.json()}catch(e){throw console.error("Error:",e),e}},i=async e=>{try{let t=await fetch("/api/cfg",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e})});if(!t.ok)throw Error("Error: ".concat(t.statusText));return await t.json()}catch(e){throw console.error("Error:",e),e}},c=async e=>{try{let t=e.replace(/_/g,"/"),r=await fetch("".concat(s,"/cfg/entities/").concat(t));if(!r.ok)throw Error("HTTP error! status: ".concat(r.status));return await r.json()}catch(e){throw console.error("Error:",e),e}},d=async()=>{try{let e=await fetch(s+"/cfg/global/deployment");if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));return await e.json()}catch(e){throw console.error("Error:",e),e}},f=async()=>{try{let e=await fetch(s+"/cfg");if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));return await e.json()}catch(e){throw console.error("Error:",e),e}}}}]);