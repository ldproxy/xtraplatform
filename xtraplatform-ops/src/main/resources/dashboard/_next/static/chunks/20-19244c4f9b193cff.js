(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[20],{9364:function(){},9084:function(e,t,a){"use strict";a.d(t,{Ol:function(){return i},Zb:function(){return s},aY:function(){return c},ll:function(){return l}});var r=a(3827),n=a(4090),o=a(2169);let s=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,o.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...n})});s.displayName="Card";let i=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",a),...n})});i.displayName="CardHeader";let l=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("h3",{ref:t,className:(0,o.cn)("text-2xl font-semibold leading-none tracking-tight",a),...n})});l.displayName="CardTitle",n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("p",{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",a),...n})}).displayName="CardDescription";let c=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,o.cn)("p-6 pt-0",a),...n})});c.displayName="CardContent",n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,o.cn)("flex items-center p-6 pt-0",a),...n})}).displayName="CardFooter"},1800:function(e,t,a){"use strict";a.d(t,{vj:function(){return l},ZH:function(){return c},W2:function(){return h},hs:function(){return u},mv:function(){return s},qP:function(){return i}});var r=a(2172),n=a(2215);let o="/api";n.env.DEPLOYMENTS||r.XK;let s=async e=>{try{let t=await fetch("/api/cfg",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return await t.json()}catch(e){throw console.error("Error:",e),e}},i=async(e,t,a,r)=>{try{let n=await fetch("/api/cfg",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({oldName:e,newName:t,oldUrl:a,newUrl:r})});return await n.json()}catch(e){throw console.error("Error:",e),e}},l=async e=>{try{let t=await fetch("/api/cfg",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e})});if(!t.ok)throw Error("Error: ".concat(t.statusText));return await t.json()}catch(e){throw console.error("Error:",e),e}},c=async e=>{try{let t=e.replace(/_/g,"/"),a=await fetch("".concat(o,"/cfg/entities/").concat(t));if(!a.ok)throw Error("HTTP error! status: ".concat(a.status));return await a.json()}catch(e){throw console.error("Error:",e),e}},u=async()=>{try{let e=await fetch(o+"/cfg/global/deployment");if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));return await e.json()}catch(e){throw console.error("Error:",e),e}},h=async()=>{try{let e=await fetch(o+"/cfg");if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));return await e.json()}catch(e){throw console.error("Error:",e),e}}},8403:function(e,t,a){"use strict";a.d(t,{NT:function(){return n},Ph:function(){return c},RL:function(){return o},Xd:function(){return s},lY:function(){return i},zM:function(){return l}});let r=e=>Object.keys(e).flatMap(t=>e[t].map(e=>({type:t,uid:"".concat(t,"_").concat(e.id),...e}))).filter(e=>"DISABLED"!==e.status),n=e=>Array.isArray(e)?r(e[0].response):r(e),o=e=>"services"===e.type?"API":e.subType.split(/[/]/)[0],s=e=>{let t=e[0].toUpperCase()+e.substring(1);return"API"===e?t+"s":t},i=e=>e.reduce((e,t)=>(o(t),e||(e={available:0,limited:0,unavailable:0}),"AVAILABLE"===t.status?e.available++:"LIMITED"===t.status?e.limited++:"UNAVAILABLE"===t.status&&e.unavailable++,e),{available:0,limited:0,unavailable:0}),l=(e,t)=>t.reduce((t,a)=>(t[a]=i(e.filter(e=>o(e)===a)),t),{}),c=e=>{if(!e||!e)return"No entities found";let t="";return e.available&&(t+="".concat(e.available," available")),e.limited&&(t.length>0&&(t+=" "),t+="".concat(e.limited," limited")),e.unavailable&&(t.length>0&&(t+=" "),t+="".concat(e.unavailable," unavailable")),t}},9275:function(e,t,a){"use strict";a.d(t,{E:function(){return i},N:function(){return s}});var r=a(9539),n=a.n(r);let o=(e,t)=>Object.keys(e).map(a=>({name:a,url:t,...e[a],capabilities:e[a].capabilities?Object.keys(e[a].capabilities).map(t=>({name:t,...e[a].capabilities[t]})):void 0,components:e[a].components?Object.keys(e[a].components).map(t=>({name:t,...e[a].components[t]})):void 0})),s=e=>Array.isArray(e)?e.flatMap(e=>e.offline||null===e.response?[{url:e.url,state:"OFFLINE"}]:o(e.response,e.url)):o(e);function i(e){let t={},a={};return e.forEach(e=>{t[e.name]||(t[e.name]=0),t[e.name]++}),e.forEach(e=>{if(t[e.name]>1){a[e.name]||(a[e.name]={...e,subRows:[]});let t=a[e.name];t.subRows.push({...e,label:e.url}),"UNAVAILABLE"===e.state?t.status="UNAVAILABLE":"LIMITED"===e.state&&"UNAVAILABLE"!==t.status?t.status="LIMITED":"AVAILABLE"===e.state&&"UNAVAILABLE"!==t.status&&"LIMITED"!==t.status&&(t.status="AVAILABLE"),n()(e.checked).isAfter(n()(t.checked))&&(t.checked=e.checked)}else a[e.name]=e}),Object.values(a).forEach(e=>{e.subRows&&(e.subRows=e.subRows.filter(t=>t!==e))}),Object.values(a)}},7949:function(e,t,a){"use strict";a.d(t,{w:function(){return E}});var r=a(4090),n=a(2169);a(1800);var o=a(9266),s=a(2172),i=a(8403),l=a(9275);let c=e=>Array.isArray(e)?e.map(e=>({...e.response,apiUrl:e.url})):[{...e,apiUrl:"TODO"}],u=e=>Array.isArray(e)?e.map(e=>{let{url:t,response:a}=e;return h(null==a?void 0:a.sets,t)}):[h(e.sets)],h=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a=[...e];for(let t of e.flatMap(m))a.some(e=>e.id===t.id)||a.push(t);return{sets:a,url:t}},m=e=>e.followUps.length>0?[e,...e.followUps.flatMap(m)]:[e],d=(e,t)=>({uptime:e.gauges["jvm.attribute.uptime"].value,memory:e.gauges["jvm.memory.total.used"].value,apiUrl:t}),f=e=>Array.isArray(e)?e.map(e=>d(e.response,e.url)):[d(e,"TODO")],g=e=>Object.keys(e).flatMap(t=>Array.isArray(e[t])?e[t].map(e=>({type:t,uid:"".concat(t,"_").concat(e.path),...e})):[]),p=e=>Array.isArray(e)?g(e[0].response):g(e);var y=a(9364);let w={loadEntities:!0,loadHealthChecks:!0,loadInfo:!0,loadMetrics:!0,loadJobs:!0,loadValues:!0,checkDifferences:!0};function E(e,t){let[a,h]=(0,r.useState)({}),[m,d]=(0,r.useState)(!0),[g,E]=(0,r.useState)([]),[k,b]=(0,r.useState)([]),[v,A]=(0,r.useState)({}),[N,j]=(0,r.useState)({}),[T,I]=(0,r.useState)([]),[L,S]=(0,r.useState)([]),[C,O]=(0,r.useState)([{name:"",metrics:[{uptime:0,memory:0,apiUrl:""}]}]),[H,F]=(0,r.useState)([]),[D,U]=(0,r.useState)([]),[x,M]=(0,r.useState)({}),[P,R]=(0,r.useState)(!1),[V,B]=(0,r.useState)({entities:!1,values:!1}),[_,J]=(0,r.useState)({}),W=async(e,t)=>{if(!t.has(y.WRAPPED_HEADER))return e;let a=!1,r={..._},n=e=>{let[t,...a]=e.split("/"),n=a.join("/"),o=parseInt(t,10);200===o?r[n]&&delete r[n]:n&&(r[n]=o)};return Array.isArray(e)?e.forEach(e=>{e.errorStatus&&(n(e.errorStatus),a=!0)}):e.errorStatus&&(n(e.errorStatus),a=!0),a&&J(e=>({...e,...r})),Array.isArray(e)?e:e.response},Y=async()=>{try{if(t&&t.length>0){let e={},a=t.map(async t=>{try{let a=await (0,o.r)("/api/health",l.N,!1,t.apiUrl,W,1e3);e[t.name]=a}catch(a){a.message.includes("took longer than")?h(e=>({...e,loadHealthChecksHomepage:"Timeout: Fetching health took longer than ".concat(1e3," ms")})):h(e=>({...e,loadHealthChecksHomepage:"Error loading health: "+a.message})),console.error("Error fetching health checks for",t.name,":",a),e[t.name]=[{state:"OFFLINE",url:t.url}]}});await Promise.all(a),await new Promise(t=>{j(e),t()})}}catch(e){console.error("Error loading health checks:",e)}},K=async()=>{try{if(e&&Object.keys(e).length>0){let t={},a=await (0,o.r)("/api/health",l.N,!1,void 0,W,1e3);t[e.name]=a,A(t)}}catch(e){e.message.includes("took longer than")?h(e=>({...e,loadHealthChecks:"Timeout: Fetching health took longer than ".concat(1e3," ms")})):h(t=>({...t,loadHealthChecks:"Error loading health: "+e.message}))}},X=async()=>{try{let e=await (0,o.r)("/api/health",l.N,!1,void 0,W,1e3);S(e)}catch(e){e.message.includes("took longer than")?h(e=>({...e,loadHealthChecksEntities:"Timeout: Fetching health took longer than ".concat(1e3," ms")})):h(t=>({...t,loadHealthChecksEntities:"Error loading health checks: "+e.message}))}},Z=async()=>{try{if(t&&t.length>0){let e=t.map(async e=>{let t=await (0,o.r)("/api/info",c,!1,e.apiUrl,W,1e3);return t&&t.length>0?{name:e.name,info:t}:{name:e.name,info:[]}}),a=await Promise.all(e);I(a)}}catch(e){e.message==="Fetching info took longer than ".concat(1e3," ms")?h(e=>({...e,loadInfoHomepage:"Timeout: Fetching info took longer than ".concat(1e3," ms")})):h(t=>({...t,loadInfoHomepage:"Error loading info: "+e.message}))}},q=async()=>{try{if(e&&Object.keys(e).length>0){let t=await (0,o.r)("/api/info",c,!1,void 0,W,1e3);t.length>0?F([{name:e.name,info:t}]):F([{name:e.name,info:[]}])}}catch(e){e.message==="Fetching info took longer than ".concat(1e3," ms")?h(e=>({...e,loadInfo:"Timeout: Fetching info took longer than ".concat(1e3," ms")})):h(t=>({...t,loadInfo:"Error loading info: "+e.message}))}},z=async()=>{try{if(e&&Object.keys(e).length>0){let t=await (0,o.r)("/api/metrics",f,!1,void 0,W,1e3);O([{name:e.name,metrics:t}])}}catch(e){e.message==="Fetching metrics took longer than ".concat(1e3," ms")?h(e=>({...e,loadMetrics:"Timeout: Fetching metrics took longer than ".concat(1e3," ms")})):h(t=>({...t,loadMetrics:"Error loading metrics: "+e.message}))}},G=async()=>{try{let e=await (0,o.r)("/api/entities",i.NT,!0,void 0,W,1e3),t=await (0,o.r)("/api/health",l.N);Array.isArray(e)?(e.forEach(e=>{let a=t.find(t=>t.name==="entities/".concat(e.type,"/").concat(e.id));e.status=a&&a.state?a.state:"UNKNOWN"}),E(e)):console.error("Entities not an array:",e)}catch(e){e.message==="Fetching entities took longer than ".concat(1e3," ms")?h(e=>({...e,loadEntities:"Timeout: Fetching entities took longer than ".concat(1e3," ms")})):h(t=>({...t,loadEntities:"Error loading entities: "+e.message}))}},Q=async()=>{try{let e=await (0,o.r)("/api/jobs",u,!1,void 0,W,1e3);b(e)}catch(e){e.message==="Fetching jobs took longer than ".concat(1e3," ms")?h(e=>({...e,loadJobs:"Timeout: Fetching jobs took longer than ".concat(1e3," ms")})):h(t=>({...t,loadJobs:"Error loading jobs: "+e.message}))}},$=async()=>{try{let e=await (0,o.r)("/api/values",p,!0,void 0,W,1e3);U(e)}catch(e){e.message==="Fetching values took longer than ".concat(1e3," ms")?h(e=>({...e,loadValues:"Timeout: Fetching values took longer than ".concat(1e3," ms")})):h(t=>({...t,loadValues:"Error loading values: "+e.message}))}},ee=async()=>{let e=await (0,n.mh)(),t={...V};e.entitiesDifferent&&(t.entities=!0),e.valuesDifferent&&(t.values=!0),B(t)};return{isLoading:m,entities:g,jobs:k,healthChecks:v,healthCecksHomepage:N,healthChecksEntities:L,metrics:C,info:H,infoHomepage:T,values:D,cfg:x,hasError:P,nodesDifferent:V,loadData:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w;d(!0);try{e.loadHealthChecks&&await K(),e.loadHealthChecksHomepage&&await Y(),e.loadHealthChecksEntities&&await X(),e.loadInfo&&await q(),e.loadInfoHomepage&&await Z(),e.loadMetrics&&await z(),e.loadEntities&&await G(),e.loadJobs&&await Q(),e.loadValues&&await $(),s.hB&&e.checkDifferences&&await ee()}catch(e){console.error("Error loading data:",e)}finally{d(!1)}},errorStatus:_,fetchError:a}}}}]);